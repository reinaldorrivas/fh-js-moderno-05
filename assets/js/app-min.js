const blackJackModule=(()=>{"use strict";let e=[],t=[];const l=["C","D","H","S"],n=["A","J","K","Q"],a=document.body.querySelector("#btnPedirCarta"),r=document.body.querySelector("#btnJuegoNuevo"),o=document.body.querySelector("#btnDetenerJuego"),s=document.body.querySelectorAll("small"),d=document.body.querySelectorAll(".cartas"),i=(r=2)=>{e=(()=>{e=[];for(let t=2;t<11;t++)for(let n of l)e.push(t+n);for(let t of n)for(let n of l)e.push(t+n);return _.shuffle(e)})(),t=[];for(let e=0;e<r;e++)t.push(0);d.forEach((e=>{e.innerHTML=""})),s.forEach((e=>{e.innerText=0})),a.disabled=!1,o.disabled=!1},c=()=>{if(!e.length)throw"Se acabaron las cartas.";return e.pop()},u=(e,l)=>{t[l]+=(e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t})(e),s[l].innerText=t[l]},b=(e,t)=>{const l=document.createElement("img");l.src=`./assets/img/${e}.png`,l.alt=`Baraja ${e}`,l.classList.add("carta"),d[t].append(l)},h=e=>{do{const e=c();u(e,t.length-1),b(e,t.length-1)}while(t[t.length-1]<e&&t[t.length-1]<=21&&e<=21);t[0]<t[t.length-1]&&t[t.length-1]<=21?(a.disabled=!0,o.disabled=!0,setTimeout((()=>{alert("Lo siento... ¡Perdiste!")}),100)):t[0]===t[t.length-1]?(a.disabled=!0,o.disabled=!0,setTimeout((()=>{alert("Nadie gana.")}),100)):t[t.length-1]>21&&(a.disabled=!0,o.disabled=!0,setTimeout((()=>{alert("¡Ganaste!")}),100))};return a.addEventListener("click",(()=>{const e=c();u(e,0),b(e,0),t[0]>21?(a.disabled=!0,o.disabled=!0,h(t[0]),setTimeout((()=>{alert("Lo siento... ¡Perdiste!")}),100)):21===t[0]&&0===t[t.length-1]&&h(t[0])})),o.addEventListener("click",(()=>{h(t[0])})),r.addEventListener("click",(()=>{i()})),{initGame:i}})();